import{j as e,i as N,B as I,r as n,d as ye,e as z,f as Te,g as H,h as Ne,P as y,k as v,l as Ce,b as B}from"./index-gXeJHl0d.js";import{u as Y,D as A,a as P,b as D,c as M,d as q}from"./dialog-BD0v_Tu2.js";import{B as Ie}from"./badge-BHxQvzet.js";import{u as O}from"./use-modal-XnPzyX1R.js";const Fe=({title:t,description:s,image:a,expiry:o,price:r,buttonText:d,onButtonClick:c,badge:u})=>{const i=t.includes("Скидка 10%");return e.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-md hover:shadow-xl dark:shadow-white/10 overflow-hidden flex flex-col md:flex-row md:h-32 transition-all duration-200 transform hover:-translate-y-1",children:[e.jsxs("div",{className:"relative w-full md:w-1/3 h-32 overflow-hidden",children:[e.jsx("img",{src:i?N.certificates[0]:a,alt:t,className:"w-full h-32 object-cover"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-purple-600/40 to-transparent pointer-events-none"})]}),e.jsxs("div",{className:"p-3 flex-1 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h3",{className:"font-medium text-base",children:t}),u&&e.jsx("span",{className:"bg-[#FF6B35] text-white text-xs px-2 py-0.5 rounded-full ml-2 whitespace-nowrap shadow-sm",children:u})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:s})]}),e.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[r&&e.jsx("p",{className:"font-semibold text-[#FF6B35] text-sm drop-shadow-sm",children:r}),e.jsx(I,{className:`${r?"":"ml-auto"} bg-primary hover:bg-primary/90 text-white text-xs px-3 py-1 h-8 shadow-sm hover:shadow-md transition-all`,onClick:c,children:d})]})]})]})};var Re=n.createContext(void 0);function J(t){const s=n.useContext(Re);return t||s||"ltr"}var k="rovingFocusGroup.onEntryFocus",Se={bubbles:!1,cancelable:!0},F="RovingFocusGroup",[G,Q,Ee]=ye(F),[_e,W]=z(F,[Ee]),[ke,Ae]=_e(F),X=n.forwardRef((t,s)=>e.jsx(G.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(G.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Pe,{...t,ref:s})})}));X.displayName=F;var Pe=n.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,orientation:o,loop:r=!1,dir:d,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:i,onEntryFocus:l,preventScrollOnEntryFocus:f=!1,...m}=t,h=n.useRef(null),T=Te(s,h),p=J(d),[w=null,R]=H({prop:c,defaultProp:u,onChange:i}),[g,b]=n.useState(!1),S=Ne(l),he=Q(a),E=n.useRef(!1),[ge,U]=n.useState(0);return n.useEffect(()=>{const x=h.current;if(x)return x.addEventListener(k,S),()=>x.removeEventListener(k,S)},[S]),e.jsx(ke,{scope:a,orientation:o,dir:p,loop:r,currentTabStopId:w,onItemFocus:n.useCallback(x=>R(x),[R]),onItemShiftTab:n.useCallback(()=>b(!0),[]),onFocusableItemAdd:n.useCallback(()=>U(x=>x+1),[]),onFocusableItemRemove:n.useCallback(()=>U(x=>x-1),[]),children:e.jsx(y.div,{tabIndex:g||ge===0?-1:0,"data-orientation":o,...m,ref:T,style:{outline:"none",...t.style},onMouseDown:v(t.onMouseDown,()=>{E.current=!0}),onFocus:v(t.onFocus,x=>{const be=!E.current;if(x.target===x.currentTarget&&be&&!g){const V=new CustomEvent(k,Se);if(x.currentTarget.dispatchEvent(V),!V.defaultPrevented){const _=he().filter(j=>j.focusable),ve=_.find(j=>j.active),we=_.find(j=>j.id===w),je=[ve,we,..._].filter(Boolean).map(j=>j.ref.current);te(je,f)}}E.current=!1}),onBlur:v(t.onBlur,()=>b(!1))})})}),Z="RovingFocusGroupItem",ee=n.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,focusable:o=!0,active:r=!1,tabStopId:d,...c}=t,u=Y(),i=d||u,l=Ae(Z,a),f=l.currentTabStopId===i,m=Q(a),{onFocusableItemAdd:h,onFocusableItemRemove:T}=l;return n.useEffect(()=>{if(o)return h(),()=>T()},[o,h,T]),e.jsx(G.ItemSlot,{scope:a,id:i,focusable:o,active:r,children:e.jsx(y.span,{tabIndex:f?0:-1,"data-orientation":l.orientation,...c,ref:s,onMouseDown:v(t.onMouseDown,p=>{o?l.onItemFocus(i):p.preventDefault()}),onFocus:v(t.onFocus,()=>l.onItemFocus(i)),onKeyDown:v(t.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){l.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const w=Oe(p,l.orientation,l.dir);if(w!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let g=m().filter(b=>b.focusable).map(b=>b.ref.current);if(w==="last")g.reverse();else if(w==="prev"||w==="next"){w==="prev"&&g.reverse();const b=g.indexOf(p.currentTarget);g=l.loop?Ge(g,b+1):g.slice(b+1)}setTimeout(()=>te(g))}})})})});ee.displayName=Z;var De={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Me(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Oe(t,s,a){const o=Me(t.key,a);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return De[o]}function te(t,s=!1){const a=document.activeElement;for(const o of t)if(o===a||(o.focus({preventScroll:s}),document.activeElement!==a))return}function Ge(t,s){return t.map((a,o)=>t[(s+o)%t.length])}var Be=X,Ke=ee,K="Tabs",[Le,Ze]=z(K,[W]),se=W(),[Ue,L]=Le(K),ae=n.forwardRef((t,s)=>{const{__scopeTabs:a,value:o,onValueChange:r,defaultValue:d,orientation:c="horizontal",dir:u,activationMode:i="automatic",...l}=t,f=J(u),[m,h]=H({prop:o,onChange:r,defaultProp:d});return e.jsx(Ue,{scope:a,baseId:Y(),value:m,onValueChange:h,orientation:c,dir:f,activationMode:i,children:e.jsx(y.div,{dir:f,"data-orientation":c,...l,ref:s})})});ae.displayName=K;var oe="TabsList",re=n.forwardRef((t,s)=>{const{__scopeTabs:a,loop:o=!0,...r}=t,d=L(oe,a),c=se(a);return e.jsx(Be,{asChild:!0,...c,orientation:d.orientation,dir:d.dir,loop:o,children:e.jsx(y.div,{role:"tablist","aria-orientation":d.orientation,...r,ref:s})})});re.displayName=oe;var ne="TabsTrigger",ie=n.forwardRef((t,s)=>{const{__scopeTabs:a,value:o,disabled:r=!1,...d}=t,c=L(ne,a),u=se(a),i=de(c.baseId,o),l=ue(c.baseId,o),f=o===c.value;return e.jsx(Ke,{asChild:!0,...u,focusable:!r,active:f,children:e.jsx(y.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":l,"data-state":f?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:i,...d,ref:s,onMouseDown:v(t.onMouseDown,m=>{!r&&m.button===0&&m.ctrlKey===!1?c.onValueChange(o):m.preventDefault()}),onKeyDown:v(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&c.onValueChange(o)}),onFocus:v(t.onFocus,()=>{const m=c.activationMode!=="manual";!f&&!r&&m&&c.onValueChange(o)})})})});ie.displayName=ne;var le="TabsContent",ce=n.forwardRef((t,s)=>{const{__scopeTabs:a,value:o,forceMount:r,children:d,...c}=t,u=L(le,a),i=de(u.baseId,o),l=ue(u.baseId,o),f=o===u.value,m=n.useRef(f);return n.useEffect(()=>{const h=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(h)},[]),e.jsx(Ce,{present:r||f,children:({present:h})=>e.jsx(y.div,{"data-state":f?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":i,hidden:!h,id:l,tabIndex:0,...c,ref:s,style:{...t.style,animationDuration:m.current?"0s":void 0},children:h&&d})})});ce.displayName=le;function de(t,s){return`${t}-trigger-${s}`}function ue(t,s){return`${t}-content-${s}`}var Ve=ae,me=re,fe=ie,pe=ce;const $e=Ve,xe=n.forwardRef(({className:t,...s},a)=>e.jsx(me,{ref:a,className:B("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));xe.displayName=me.displayName;const C=n.forwardRef(({className:t,...s},a)=>e.jsx(fe,{ref:a,className:B("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s}));C.displayName=fe.displayName;const ze=n.forwardRef(({className:t,...s},a)=>e.jsx(pe,{ref:a,className:B("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));ze.displayName=pe.displayName;const $=[{id:1,title:"Сертификат на любую услугу",description:"Получатель может выбрать любую процедуру из списка услуг салона.",price:"от 2500₽",type:"service"},{id:2,title:"Сертификат на массаж",description:"Включает в себя классический общий, либо любой другой тип массажа на выбор.",price:"от 3000₽",type:"service"},{id:3,title:"Сертификат на уход за лицом",description:"Полный комплекс ухода за лицом с использованием профессиональной косметики.",price:"от 4000₽",type:"service"},{id:4,title:"Сертификат на SPA-программу",description:"Расслабляющая SPA-программа для полного восстановления и отдыха.",price:"от 5500₽",type:"service"},{id:5,title:"Подарочный сертификат 3000₽",description:"Универсальный подарочный сертификат номиналом 3000 рублей на любые услуги салона.",price:"3000₽",type:"amount"},{id:6,title:"Подарочный сертификат 5000₽",description:"Универсальный подарочный сертификат номиналом 5000 рублей на любые услуги салона.",price:"5000₽",type:"amount"},{id:7,title:"Подарочный сертификат 10000₽",description:"Универсальный подарочный сертификат номиналом 10000 рублей на любые услуги салона.",price:"10000₽",type:"amount"},{id:8,title:"Базовый абонемент",description:"5 любых процедур из категории 'Массаж' со скидкой 10% на дополнительные услуги.",price:"5000₽",type:"program"},{id:9,title:"Премиум абонемент",description:"8 любых процедур из категории 'Массаж' и 1 SPA-программа в подарок.",price:"9000₽",type:"program"},{id:10,title:"Абонемент 'Здоровая спина'",description:"10 массажей спины с консультацией специалиста и индивидуальными рекомендациями.",price:"7500₽",type:"program"}],He=({isOpen:t,onClose:s})=>{const[a,o]=n.useState("all"),r=O(),d=n.useMemo(()=>a==="all"?$:$.filter(i=>i.type===a),[a]),c=n.useCallback(i=>{r.open(i)},[r]),u=n.useCallback(()=>{if(r.data)try{window.open("https://t.me/Natali_Secrets_bot","_blank","noopener,noreferrer")}catch(i){console.error("Ошибка при открытии Telegram:",i)}r.close(),s()},[r,s]);return e.jsxs(e.Fragment,{children:[e.jsx(A,{open:t&&!r.isOpen,onOpenChange:s,children:e.jsxs(P,{className:"bg-card text-card-foreground rounded-lg max-w-lg w-full max-h-[90vh] flex flex-col overflow-hidden shadow-xl dark:shadow-white/10 transition-all duration-200",children:[e.jsx(D,{className:"flex-shrink-0",children:e.jsx(M,{className:"text-center text-lg font-semibold",children:"Подарочные сертификаты"})}),e.jsx($e,{defaultValue:"all",value:a,onValueChange:o,className:"w-full flex-shrink-0",children:e.jsxs(xe,{className:"grid grid-cols-3 mb-4",children:[e.jsx(C,{value:"all",children:"Все"}),e.jsx(C,{value:"service",children:"На услуги"}),e.jsx(C,{value:"amount",children:"На сумму"})]})}),e.jsx("div",{className:"overflow-y-auto flex-grow pr-1 scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent",children:e.jsx("div",{className:"space-y-4 pb-2",children:d.map(i=>e.jsx("div",{className:"bg-background rounded-lg p-4 shadow-md hover:shadow-lg dark:shadow-white/5 transition-all duration-200 transform hover:-translate-y-0.5 border border-border",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-medium text-sm",children:i.title}),e.jsx(Ie,{variant:"secondary",className:"ml-2",children:i.price})]}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:i.description}),e.jsx(I,{variant:"default",size:"sm",className:"bg-primary hover:bg-primary/90 text-white w-full shadow-sm hover:shadow-md transition-all",onClick:()=>c(i),children:"Выбрать"})]})},i.id))})})]})}),e.jsx(A,{open:r.isOpen,onOpenChange:r.close,children:e.jsxs(P,{className:"bg-card text-card-foreground rounded-lg max-w-md w-full p-4 shadow-xl dark:shadow-white/10 transition-all duration-200",children:[e.jsx(D,{children:e.jsx(M,{className:"text-center text-base",children:"Приобретение сертификата"})}),e.jsxs("div",{className:"py-3",children:[r.data&&e.jsxs("div",{className:"mb-4 text-center",children:[e.jsx("p",{className:"font-medium text-sm mb-1",children:r.data.title}),e.jsx("p",{className:"text-[#FF6B35] font-semibold",children:r.data.price})]}),e.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"Для приобретения подарочного сертификата вы будете перенаправлены в Telegram бот, где сможете оформить заказ и получить электронный или физический сертификат."})]}),e.jsx(q,{className:"flex justify-center",children:e.jsx(I,{className:"bg-primary hover:bg-primary/90 text-white w-full shadow-sm hover:shadow-md transition-all",onClick:u,children:"Перейти в Telegram"})})]})})]})},Ye=[{id:1,title:"Скидка 10% на первое посещение",description:"Получите скидку 10% на любую услугу при первом посещении нашего салона. Предложение действует для новых клиентов.",image:N.certificates[0],badge:"Актуально",buttonText:"Выбрать"},{id:2,title:"Абонемент на массаж спины",description:"10 сеансов классического массажа спины по специальной цене. Срок действия абонемента - 3 месяца.",image:N.massageTherapy[4],badge:"Выгода 10%",price:"8200₽",buttonText:"Приобрести"},{id:3,title:"Подарочные сертификаты",description:"Порадуйте близких подарочным сертификатом на услуги нашего салона. Доступны сертификаты различного номинала.",image:N.massageTherapy[3],badge:"Актуально",buttonText:"Выбрать сертификат"}],et=()=>{const{isOpen:t,open:s,close:a}=O(),{isOpen:o,open:r,close:d,data:c}=O(null),u=n.useCallback(l=>{l===3?s():r(l)},[s,r]),i=n.useCallback(()=>{window.open("https://t.me/Natali_Secrets_bot","_blank"),d()},[d]);return e.jsxs("div",{className:"p-4 md:p-8",children:[e.jsx("h1",{className:"text-xl font-semibold mb-6",children:"Акции и предложения"}),e.jsx("div",{className:"space-y-4",children:Ye.map(l=>e.jsx(Fe,{title:l.title,description:l.description,image:l.image,badge:l.badge,price:l.price,buttonText:l.buttonText,onButtonClick:()=>u(l.id)},l.id))}),e.jsx(He,{isOpen:t,onClose:a}),e.jsx(A,{open:o,onOpenChange:d,children:e.jsxs(P,{className:"bg-card text-card-foreground rounded-lg max-w-md w-full p-4 shadow-xl dark:shadow-white/10 transition-all duration-200",children:[e.jsx(D,{children:e.jsx(M,{className:"text-center text-base",children:c===1?"Скидка 10% на первое посещение":"Приобретение абонемента"})}),e.jsx("div",{className:"py-3",children:e.jsx("p",{className:"text-sm text-center text-muted-foreground",children:c===1?"Для получения скидки 10% на первое посещение вы будете перенаправлены в Telegram бот, где сможете оформить запись со скидкой.":"Для приобретения абонемента вы будете перенаправлены в Telegram бот, где сможете оформить покупку и получить всю необходимую информацию."})}),e.jsx(q,{className:"flex justify-center",children:e.jsx(I,{className:"bg-primary hover:bg-primary/90 text-white w-full shadow-sm hover:shadow-md transition-all",onClick:i,children:"Перейти в Telegram"})})]})})]})};export{et as default};
