import{u as h,r as n,c as d,j as e,i as x,B as g}from"./index-DMbkHt2m.js";import{D as p,a as u,b as f,c as j,d as b}from"./dialog-B8Xi09Rq.js";import{p as w,S as N}from"./services-OlvjA2Wb.js";import{u as v}from"./use-modal-PL0eJEP8.js";function C(){const[,r]=h(),t=n.useCallback((c,i)=>{i&&Object.entries(i).forEach(([l,s])=>{try{sessionStorage.setItem(l,typeof s=="string"?s:JSON.stringify(s))}catch(a){console.error(`Ошибка при сохранении данных в sessionStorage (ключ: ${l}):`,a)}}),r(c)},[r]),o=n.useCallback(c=>{c.forEach(i=>{try{sessionStorage.removeItem(i)}catch(l){console.error(`Ошибка при удалении данных из sessionStorage (ключ: ${i}):`,l)}})},[]);return{navigateWithData:t,clearSessionParams:o}}const I=({setActiveTab:r})=>{const{navigateWithData:t}=C(),o=v(),c=n.useCallback(s=>{r("services"),t("/services",{selectedServiceId:s.toString()})},[r,t]),i=n.useCallback(s=>{const a=d.find(m=>m.id===s);if((a==null?void 0:a.category)==="memberships"){r("memberships"),t("/memberships");return}r("services"),a&&a.category?t("/services",{selectedServiceCategory:a.category}):t("/services")},[r,t]);n.useCallback(()=>{o.open()},[o]);const l=n.useCallback(()=>{try{const s=btoa(encodeURIComponent("main_banner")),a=btoa(encodeURIComponent("Запись на консультацию"));window.open(`https://t.me/Natali_Secrets_bot?start=main_${s}_${a}`,"_blank","noopener,noreferrer")}catch(s){console.error("Ошибка при открытии Telegram:",s)}o.close()},[o]);return e.jsxs("div",{className:"p-4 md:p-8",children:[e.jsxs("div",{className:"rounded-lg overflow-hidden shadow-lg hover:shadow-xl dark:shadow-white/15 mb-3 transition-all duration-200 transform hover:-translate-y-0",children:[e.jsx("img",{src:x.salonInterior[1],alt:"Natali Secrets Spa",className:"w-full h-48 md:h-64 object-cover",loading:"eager"}),e.jsxs("div",{className:"bg-card text-card-foreground p-4 relative transition-colors duration-200",children:[e.jsx("h2",{className:"text-lg font-medium",children:"Добро пожаловать в мир красоты и релаксации"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:"Профессиональные услуги для вашего здоровья и совершенства"})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Популярные услуги"}),e.jsx("span",{onClick:()=>i(1),className:"text-primary text-sm font-medium cursor-pointer hover:drop-shadow-md transition-all",children:"Смотреть все"})]}),e.jsx("div",{className:"overflow-x-auto scrollbar-hide -mx-4 px-4",children:e.jsx("div",{className:"flex space-x-4 pb-2",children:w.map(s=>e.jsx(N,{id:s.id,name:s.name,price:s.price,image:s.image,onClick:c,featured:!0},s.id))})})]}),e.jsxs("div",{className:"mb-0",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Спектр услуг"}),e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-3 mx-auto",children:d.map(s=>e.jsxs("div",{className:"bg-primary rounded-lg p-2 text-white flex flex-col items-center justify-center w-full max-w-[120px] mx-auto aspect-square shadow-md hover:shadow-lg dark:shadow-white/10 cursor-pointer transition-all duration-200 transform hover:-translate-y-1",onClick:()=>i(s.id),children:[e.jsx("span",{className:"material-icons text-lg mb-1 drop-shadow-sm",children:s.icon}),e.jsx("h3",{className:"text-center font-medium text-xs leading-tight",children:s.title})]},s.id))})]}),e.jsx(p,{open:o.isOpen,onOpenChange:o.close,children:e.jsxs(u,{className:"bg-card text-card-foreground rounded-lg max-w-md w-full p-4 shadow-xl dark:shadow-white/10 transition-all duration-200",children:[e.jsx(f,{children:e.jsx(j,{className:"text-center text-base",children:"Запись на услугу"})}),e.jsx("div",{className:"py-3",children:e.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"Для записи на услугу вы будете перенаправлены в Telegram бот, где сможете выбрать удобное время и оформить запись."})}),e.jsx(b,{className:"flex justify-center",children:e.jsx(g,{className:"bg-primary hover:bg-primary/90 text-white w-full shadow-sm hover:shadow-md transition-all",onClick:l,children:"Перейти в Telegram"})})]})})]})};export{I as default};
